<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>binary-sort</title>
</head>
<body>
  
</body>
<script>
  // 希尔排序, 将数组拆分成若干子组，每个分组由相距一定"增量"的元素组成
  // 在每个子组进行直接插入排序
  // 减少增量，重复步骤
  // 最后增量为1，则排好序
(function () {
  function shellSort (arr) {
    var len = arr.length, i, j, tmp, result;
    var gap = parseInt(len / 2);
    // 数组副本
    result = arr.slice(0);
    while (gap > 0) {
      for (i = gap; i < len; i++) {
        tmp = result[i];
        j = i - gap;
        while (j >= 0 && tmp < result[j]) {
          result[j + gap] = result[j];
          j = j - gap;
        }
        result[j + gap] = tmp;
      }
      gap = parseInt(gap / 2);
    }
    return result;
  }

  function shellSort2 (array) {
    var arr = array.slice(0);
    var len = arr.length, i, j;
    // gap为步长,每次减少为原来的一半
    for (gap = len / 2; gap > 0; gap = parseInt(gap / 2)) {
      // 共gap个组, 对每一组都执行直接插入排序
      for (i = 0; i < gap; i++) {
        for (j = i + gap; j < len; j += gap) {
          // 如果a[j] < a[j-gap], 则寻找a[j]的位置，并将后面的数据都后移
          if (arr[j] < arr[j - gap]) {
            var tmp = arr[j];
            var k = j - gap;
            while (k >= 0 && arr[k] > tmp) {
              arr[k + gap] = arr[k];
              k -= gap;
            }
            arr[k + gap] = tmp;
          }
        }
      }
    }
    return arr;
  }

  console.log(shellSort([21, 4, 26, 18, 32, 54, 47, 9, 15, 48]))
  console.log(shellSort2([21, 4, 26, 18, 32, 54, 47, 9, 15, 48]))
})()
</script>
</html>