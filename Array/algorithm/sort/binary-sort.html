<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>binary-sort</title>
</head>
<body>
  
</body>
<script>
  // 二分插入排序, 插入排序的优化算法
(function () {
  function BinarySort (arr) {
    var len = arr.length,
        i, j, tmp, low, high, mid, result;
    // 数组副本
    result = arr.slice(0);
    for (i = 1; i < len; i++) {
      tmp = result[i];
      low = 0;
      high = i - 1;
      while (low <= high) {
        mid = parseInt((low + high) / 2, 10);
        if (tmp < result[mid]) {
          high = mid - 1;
        } else {
          low = mid + 1;
        }
      }
      // 查找结束，high < low, 插入位置为low 或者是 high + 1
      // 于是从i - 1 到 hight + 1的元素都要向后移动一个位置
      for (j = i - 1; j >= high + 1; j--) {
        result[j+1] = result[j];
      }
      // 此时j = high, 插入位置为higt + 1, 所以插入位置是j+1
      result[j+1] = tmp;
    }
    return result;
  }

  console.log(BinarySort([5,6,3,4,9,7,8,12,10,11,2,1]))
  console.log(BinarySort([15, 27, 36, 53, 69, 42]))
})()
</script>
</html>