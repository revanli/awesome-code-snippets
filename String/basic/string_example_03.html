<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>字符串的模式匹配方法-replace</title>
</head>
<body>
  <script>

    /**
     * str.replace(regexp|substr, newSubStr|function)
     *
     * regexp(pattern): 
     *    A RegExp object or literal. The match or matches are replaced with newSubStr or the value returned by 
     *    the specified function.
     * substr:
     *     A String that is to be replaced by newSubStr. It is treated as a verbatim string and is not interpreted as a 
     *     regular expression. Only the first occurrence will be replaced.
     * newSubStr(replacement):
     *     The String that replaces the substring specified by the specified regexp or substr parameter. A 
     *     number of special replacement patterns are supported
     * function(replacement):
     *     A function to be invoked to create the new substring to be used to replace the matches to the 
     *     given regexp or substr.
     *
     * return：A new string with some or all matches of a pattern replaced by a replacement.
     */
     function replacer (match, p1, p2, p3, offset, string) {
        return [p1, p2, p3].join('-');
     }
     var newString = 'abc12345#$*%'.replace(/([^\d]*)(\d*)([^\w]*)/, replacer);
     console.log(newString)

     var str = "Twas the night before Xmas..";
     var newStr = str.replace(/xmas/i, 'Christmas');
     console.log(newStr);
 
     var re = /apples/gi;
     var str = "Apples are round, and apples are juicy";
     var newstr = str.replace(re, 'oranges');
     console.log(newstr);

     function styleHyphenFormat (propertyName) {
        function upperToHyphenLower (match, offset, string) {
            return (offset ? '-' : '') + match.toLowerCase();
        }
        return propertyName.replace(/[A-Z]/g, upperToHyphenLower)
        // return propertyName.replace(/[A-Z]/g, '-' + '$&'.toLowerCase());
     }
     console.log(styleHyphenFormat('borderTop'));

     function f2c(x) {
        function convert(str, p1, offset, s) {
            return ((p1 - 32) * 5/9) + 'C';
        }
        var s = String(x);
        var test = /(-?\d+(?:\.\d*)?)F\b/g;
        return s.replace(test, convert);
    }
    console.log(f2c('212F'))
  </script>
</body>
</html>